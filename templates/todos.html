<!DOCTYPE html>
<html lang="en">
<head >
    <meta charset="UTF-8">
    <title>Mod 13.2 SQLite form todos</title>
    <style>
        table, th, tr, td {border: 2px solid black;}
    </style>
</head>
<body style="background-color: silver" >

        <h2>Todos list</h2>

        <table>
            <thead>
            <th>Title</th>
            <th>Description</th>
            <th> done ?</th>
            </thead>
            {% for todo in todos %}
                <tr>
                    <td><a href="/todo_id/{{ loop.index }}/">{{ todo[0] }}</a></td>
                    <td>{{ todo[1]}}</td>
                    <td>{{ todo[2] }}:{{ todo[3] }}</td>
                </tr>
            {% endfor %}
            </table>    
            <div>
                <h2> Add new task: </h2>
                <form method="POST" action="/todos/">
                    {{ form.hidden_tag() }}
                    <table>
                        {% for field in form if field.widget.input_type != 'hidden' %}
                            <tr>
                                <th>{{ field.label }} {% if field.flags.required %}*{% endif %}</th>
                                <td>{{ field }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                    <input type="submit" value="Go">
                </form>
            </div>
</body>
</html>

